# Brooks VM Environment Template (Microservices)
# Fill in real values before deployment. Do not commit secrets.

# ==========================================
# Postgres Superuser (container init)
# ==========================================
POSTGRES_USER=brooks
POSTGRES_PASSWORD=brooks

# ==========================================
# Service Database Users / Passwords / Names
# ==========================================
AUTH_DB_USER=auth_user
AUTH_DB_PASSWORD=auth_pass_dev
AUTH_DB_NAME=auth_db

SOCIAL_DB_USER=social_user
SOCIAL_DB_PASSWORD=social_pass_dev
SOCIAL_DB_NAME=social_db

LISTS_DB_USER=lists_user
LISTS_DB_PASSWORD=lists_pass_dev
LISTS_DB_NAME=lists_db

PINS_DB_USER=pins_user
PINS_DB_PASSWORD=pins_pass_dev
PINS_DB_NAME=pins_db

MODERATION_DB_USER=moderation_user
MODERATION_DB_PASSWORD=moderation_pass_dev
MODERATION_DB_NAME=moderation_db

# ==========================================
# Service Database URLs (point to the DB host)
# ==========================================
AUTH_DB_URL=jdbc:postgresql://postgres:5432/auth_db
SOCIAL_DB_URL=jdbc:postgresql://postgres:5432/social_db
LISTS_DB_URL=jdbc:postgresql://postgres:5432/lists_db
PINS_DB_URL=jdbc:postgresql://postgres:5432/pins_db
MODERATION_DB_URL=jdbc:postgresql://postgres:5432/moderation_db

# ==========================================
# Auth0 (Backend)
# ==========================================
AUTH0_ISSUER_URI=https://dev-4zduxht0r6gq1f7f.us.auth0.com/
AUTH0_AUDIENCE=https://brooks-api

# ==========================================
# JWT (Auth Service)
# ==========================================
BROOKS_JWT_SECRET=dev-secret-change-in-production-use-openssl-rand-hex-32
BROOKS_JWT_ISSUER=brooks
BROOKS_JWT_ACCESS_TTL=900
BROOKS_JWT_REFRESH_TTL=2592000

# ==========================================
# CORS
# ==========================================
BROOKS_WEB_ORIGINS=http://localhost:3000

# ==========================================
# Internal Service-to-Service Auth
# ==========================================
INTERNAL_SERVICE_KEYS=dev-pins-service-key-change-in-production
INTERNAL_SERVICE_ALLOWED_NAMES=pins-service
INTERNAL_SERVICE_KEY_MAP=pins-service=dev-pins-service-key-change-in-production
INTERNAL_SERVICE_KEY=dev-pins-service-key-change-in-production
INTERNAL_SERVICE_NAME=pins-service

# ==========================================
# Service URLs (internal service-to-service)
# ==========================================
SOCIAL_SERVICE_URL=http://social-service:8082
LISTS_SERVICE_URL=http://lists-service:8083

# ==========================================
# Pins Cleanup / Proximity
# ==========================================
BROOKS_BUCKET_SIZE_DEG=0.01
BROOKS_CLEANUP_ENABLED=true
BROOKS_CLEANUP_BATCH_SIZE=1000
BROOKS_CLEANUP_RETENTION_DAYS=7
BROOKS_CLEANUP_CRON="0 0 2 * * ?"

# ==========================================
# Media Service
# ==========================================
MEDIA_UPLOAD_BASE_URL=https://upload.example.com

# ==========================================
# Frontend (Vite build args)
# ==========================================
VITE_AUTH_API_URL=http://localhost:8081
VITE_AUTH0_DOMAIN=dev-4zduxht0r6gq1f7f.us.auth0.com
VITE_AUTH0_CLIENT_ID=tL6mFu6UlcZQODM0rZd54QcEDf9dQ31N
VITE_AUTH0_AUDIENCE=https://brooks-api
VITE_AUTH0_REDIRECT_URI=http://localhost:3000

VITE_SOCIAL_API_URL=http://localhost:8082
VITE_LISTS_API_URL=http://localhost:8083
VITE_PINS_API_URL=http://localhost:8084
VITE_MEDIA_API_URL=http://localhost:8085
VITE_MODERATION_API_URL=http://localhost:8086
VITE_NOTIFICATIONS_API_URL=http://localhost:8087

VITE_MAP_PROVIDER=leaflet
VITE_GOOGLE_MAPS_KEY=AIzaSyACmePNriS7NruA_PHvgMexlggcbeji6p0
VITE_NOMINATIM_URL=https://nominatim.openstreetmap.org/reverse
VITE_LEAFLET_TILE_URL=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
VITE_LEAFLET_ATTRIBUTION="&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>"
VITE_DEFAULT_CENTER_LAT=41.9028
VITE_DEFAULT_CENTER_LNG=12.4964
